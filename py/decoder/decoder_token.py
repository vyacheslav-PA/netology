import base64
import json

def decode_jwt(token):
    header, payload, signature = token.split('.')
    decoded_header = base64.urlsafe_b64decode(header + '==').decode('utf-8')
    decoded_payload = base64.urlsafe_b64decode(payload + '==').decode('utf-8')
    return json.loads(decoded_header), json.loads(decoded_payload)




# jwt_token = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c"
# token = "eyJhbGciOiJIUzM4NCIsInR5cCI6IkpXVCJ9.eyJodHRwOi8vc2NoZW1hcy54bWxzb2FwLm9yZy93cy8yMDA1LzA1L2lkZW50aXR5L2NsYWltcy9uYW1lIjoiVDJSVVxcbWF4aW0ucmVwaW4iLCJodHRwOi8vc2NoZW1hcy5taWNyb3NvZnQuY29tL3dzLzIwMDgvMDYvaWRlbnRpdHkvY2xhaW1zL3ByaW1hcnlzaWQiOiJTLTEtNS0yMS0xNjY0MzMzODA3LTM1MzY0NzkyMjgtMTUxNTU2NjAzOS03NzIwNTUiLCJ0b2tlbklkIjoiZjY3YTQ5ZGItOGY4OS00YTYwLTk2MDMtNzYxYWUwN2JiMTI0IiwiU0lEIjoiMDEwNTAwMDAwMDAwMDAwNTE1MDAwMDAwRUZCNzMzNjNGQzYzQ0FEMkQ3QjM1NTVBRDdDNzBCMDAiLCJjcm1Sb2xlcyI6WyJBY2NvdW50OkFzc2lnblByaW1hcnlDb250YWN0IiwiQWNjb3VudDpWaWV3Q29uc29saWRhdGVkRmluYW5jaWFsSW5mbyIsIkFTLkFjY0RvYzpBIiwiQVMuQWNjRG9jOkIiLCJBUy5BY2NEb2M6UiIsIkIyQjpSZWFkSGFuZGxpbmdIaXN0b3J5IiwiQkU6RWRpdEdLIiwiQkU6TWFudWFsTGluayIsIkJFOlRyYW5zZmVyQWJvbmVudHMiLCJCRTpVbmxpbmtBY2NvdW50IiwiQnVzaW5lc3NFbnZpcm9ubWVudDpDcmVhdGVSZWdpb25QZXJzb25hbEFjY291bnQiLCJCdXNpbmVzc0Vudmlyb25tZW50OlJlYWRQZXJzb25hbEFjY291bnQiLCJDQzpBcHBsaWNhdGlvbiIsIkNDOkJhbGFuY2UiLCJDQzpQZXJzb25hbERhdGEiLCJDQzpSZWFzb25DYXRlZ29yeVJlYWQiLCJDQzpUaWNrZXQiLCJDQzpUaWNrZXRBZG1pbmlzdHJhdGlvbiIsIkNDOldlYkFwcCIsIkNyZWRpdDpNYW5hZ2VtZW50IiwiQ3JlZGl0OlJlYWRMaW1pdE1heCIsIkN1c3RvbWVyOlJlYWRJbmZvIiwiQ3VzdG9tZXJSdGtTZWdtZW50OlJlYWQiLCJFcmY6Q3JlYXRlIiwiRXJmOkNyZWRpdCIsIkVyZjpEZWxldGUiLCJFcmY6TU5QUmVxdWVzdCIsIkVyZjpNb2RpZnkiLCJFcmY6UmVhZCIsIkVyZjpSZWdpc3RyYXRpb24iLCJFcmZBYm9uZW50OkZyZWVDb25uZWN0aW9uIiwiRXJmQWJvbmVudDpXb3JrV2l0aFNwZWNpYWxUYXJpZmZzIiwiSW50ZXJSZWdpb25hbEFjY291bnQ6QXNzaWduUHJpbWFyeUNvbnRhY3QiLCJQZXJzb25hbEFjY291bnQ6QWNjb3VudGluZ0RvY3MiLCJQZXJzb25hbEFjY291bnQ6QXBwbGljYXRpb25fZm9yX2V4cGVuc2VfY29udHJvbF9zZXJ2aWNlIiwiUGVyc29uYWxBY2NvdW50OkFwcGxpY2F0aW9uX1JlbW90ZVNlcnZpY2VBbmRMSyIsIlBlcnNvbmFsQWNjb3VudDpBcHBsaWNhdGlvbl9TSU1DYXJkUmVwbGFjZW1lbnQiLCJQZXJzb25hbEFjY291bnQ6Q2hhcmdlcyIsIlBlcnNvbmFsQWNjb3VudDpDb21tdW5pY2F0aW9uX3NlcnZpY2VfYWdyZWVtZW50IiwiUGVyc29uYWxBY2NvdW50OkNyZWRpdCIsIlBlcnNvbmFsQWNjb3VudDpQZXJzb25hbEFjY291bnRCaWxsS1VPUmVwb3J0IiwiUGVyc29uYWxBY2NvdW50OlBlcnNvbmFsQWNjb3VudERldGFsaXNhdGlvblJlcG9ydCIsIlBlcnNvbmFsQWNjb3VudDpQcmVwYXlCaWxsIiwiUGVyc29uYWxBY2NvdW50OlJlYWRJbmZvIiwiUGVyc29uYWxBY2NvdW50OlJlY29uY2lsaWF0aW9uUmVwb3J0IiwiUGVyc29uYWxBY2NvdW50OlRyYW5zZmVyX0IyQl9CMkIiLCJQZXJzb25hbEFjY291bnQ6V29ya1dpdGhHb3ZDb250cmFjdCIsIlBSTVQuQWJvbmVudDpDUlVEIiwiUFJNVC5BZGRyZXNzOkNSVUQiLCJQUk1ULkFkR3JvdXA6UiIsIlBSTVQuQWRVc2VyczpSIiwiUFJNVC5BZ3JtOkNSVUQiLCJQUk1ULkJEaWFnbm9zdGljOkNSVUQiLCJQUk1ULkNHcm91cHM6Q1JVREFMIiwiUFJNVC5DbGllbnQ6Q1JVRCIsIlBSTVQuQ2xpZW50TUM6Q1JVIiwiUFJNVC5DbGllbnRzSGlzdG9yeTpSIiwiUFJNVC5DbGlPd25lcjpTUERUQyIsIlBSTVQuQ29tcGFueTpDUlVEIiwiUFJNVC5Db250YWN0RGF0YTpDUlVEIiwiUFJNVC5Eb2N1bWVudDpDUlVEIiwiUFJNVC5Eb2N1bWVudDpSIiwiUFJNVC5EWjpSIiwiUFJNVC5GZWRlcmFsQ2xpZW50OkNSVUQiLCJQUk1ULklkZW50aXR5Q2FyZDpDUlVEIiwiUFJNVC5JbnRlcmFjdDpDUiIsIlBSTVQuTWFzc09wOkNSVURMIiwiUFJNVC5NQ2F0ZWdvcnk6UiIsIlBSTVQuUGVyc29uOkNSVUQiLCJQUk1ULlBlcnNvbmFsQWNjb3VudDpDUlVEIiwiUFJNVC5Qcm9tbzpSIiwiUFJNVC5QdXJjaDpDUlVETCIsIlBSTVQuUHVyY2g6RyIsIlBSTVQuUHVyY2g6SCIsIlBSTVQuUHVyY2g6TSIsIlBSTVQuUHVyY2hNYW46Q1VEIiwiUFJNVC5SZG06UiIsIlBSTVQuU0RlYWw6Q1JVRCIsIlBSTVQuU0RlYWw6TEciLCJQUk1ULlNEZWFsOk8iLCJQUk1ULlNlbGRUZW5kOkNSVUQiLCJQUk1ULlNPZmZlcjpDUlVEIiwiUFJNVC5TT2ZmZXJUbXBsOkNSVUQiLCJQUk1ULlNPcmRlcjpDUk1EIiwiUFJNVC5TUHJvZHVjdDpSIiwiUFJNVC5TUmVnU3RhZ2U6UlVGIiwiUFJNVC5TdGFmZlVuaXQ6Q1JVRCIsIlBSTVQuVGFyZ2V0TGlzdDpSIiwiUFJNVC5UYXNrOkNSVURNIiwiUFJNVC5Vc2VyOlIiLCJQUk1UaXNEYXNoYm9hcmRWaXNpYmxlIiwiUFJNVGlzdmlzaWJsZSIsIlNSOlJlYWQiLCJUV1A6UmVhZENvbnZlcnNhdGlvbiIsIlZBUzpNYWtlU2FsZSIsIlZBUzpSZWFkU2FsZXMiLCJWQVM6UmVhZNChYXRhbG9ncyJdLCJkaXNwbGF5TmFtZSI6ItCg0LXQv9C40L0g0JzQsNC60YHQuNC8INCh0LXRgNCz0LXQtdCy0LjRhyIsImJpcnRoZGF0ZSI6IiIsImNvbnRhY3RDZW50ZXIiOiIiLCJlbWFpbCI6Im1heGltLnJlcGluQGV4dGVybmFsLnQyLnJ1IiwiY3JtVXNlcklkIjoiNjA5YjZjYTYtMmJjMi00Y2Y1LTk3NWQtYzVhN2YzOTU3MDYzIiwidGVtcGxhdGVBY2Nlc3NCcmFuY2giOiIzOCw5MCwxMTMiLCJuYmYiOjE3NDg5NTYyODIsImV4cCI6MTc0ODk1Njc2MiwiaXNzIjoiVGVsZTIgQ1JNIENDIn0.5M_1PvdljQFRsL3joJrTzU7xnBrFnXqS3syBrKb-GBfCdtpMDE1O39x6wCvjj_c9"
# header, payload = decode_jwt(token)
# print(json.dumps(payload, indent=4))